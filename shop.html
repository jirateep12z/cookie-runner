<!DOCTYPE html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>üõí ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ - Cookie Runner</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Noto Sans Thai', 'sans-serif']
            },
            colors: {
              'game-primary': '#8B4513',
              'game-secondary': '#D2691E',
              'game-gold': '#FFD700'
            }
          }
        }
      };
    </script>
    <style>
      body {
        background: linear-gradient(
          135deg,
          #1a1a2e 0%,
          #16213e 50%,
          #0f3460 100%
        );
        min-height: 100vh;
      }

      .glow-text {
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.8),
          0 0 20px rgba(255, 215, 0, 0.6);
      }

      .shop-item {
        background: linear-gradient(
          145deg,
          rgba(255, 255, 255, 0.1),
          rgba(255, 255, 255, 0.05)
        );
        border: 2px solid rgba(255, 255, 255, 0.1);
        transition: all 0.3s ease;
      }

      .shop-item:hover {
        transform: translateY(-5px);
        border-color: rgba(255, 215, 0, 0.5);
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .buy-btn {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        transition: all 0.2s ease;
      }

      .buy-btn:hover:not(:disabled) {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
      }

      .buy-btn:disabled {
        background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
        cursor: not-allowed;
      }

      .purchase-popup {
        animation: popup-bounce 0.5s ease-out;
      }

      @keyframes popup-bounce {
        0% {
          opacity: 0;
          transform: translate(-50%, -50%) scale(0.3);
        }
        50% {
          transform: translate(-50%, -50%) scale(1.1);
        }
        100% {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
        }
      }

      .item-icon {
        font-size: 4rem;
        filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.3));
      }

      .price-tag {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      }

      .inventory-badge {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
      }
    </style>
  </head>
  <body class="text-white overflow-x-hidden">
    <!-- Header -->
    <header class="bg-black/30 backdrop-blur-sm py-4 px-6">
      <div class="max-w-5xl mx-auto flex justify-between items-center">
        <a
          href="index.html"
          class="flex items-center gap-2 text-white hover:text-amber-400 transition-colors"
        >
          <svg
            class="w-6 h-6"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M10 19l-7-7m0 0l7-7m-7 7h18"
            ></path>
          </svg>
          <span class="font-bold">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°</span>
        </a>

        <!-- Cookie Balance -->
        <div
          class="flex items-center gap-3 bg-gradient-to-r from-amber-500/70 to-orange-500/70 px-5 py-2 rounded-full"
        >
          <span class="text-2xl">üç™</span>
          <span id="cookie-balance" class="text-2xl font-bold">0</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto px-4 py-8">
      <h1
        class="text-4xl md:text-5xl font-bold text-center mb-2 glow-text text-game-gold"
      >
        üõí ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
      </h1>
      <p class="text-center text-white/70 mb-8">‡∏ã‡∏∑‡πâ‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏∏‡πâ‡∏ô!</p>

      <!-- Shop Notice -->
      <div
        class="bg-amber-500/20 border border-amber-500/50 rounded-xl p-4 mb-8 text-center"
      >
        <p class="text-amber-300">
          üí° <strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏û‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏™‡∏∏‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ß‡∏á‡∏•‡πâ‡∏≠
          ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô!
        </p>
      </div>

      <!-- Shop Items -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
        <!-- Heart +1 -->
        <div class="shop-item rounded-2xl p-6 backdrop-blur-sm">
          <div class="text-center mb-4">
            <div class="item-icon mb-2">‚ù§Ô∏è</div>
            <h3 class="text-2xl font-bold text-white">‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏û‡∏¥‡πÄ‡∏®‡∏©</h3>
            <p class="text-white/60 text-sm mt-1">+1 ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ô‡πÄ‡∏Å‡∏°</p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">2,500</span>
            </div>
            <div
              class="inventory-badge px-3 py-1 rounded-full text-sm"
              id="owned-heart"
            >
              ‡∏°‡∏µ: 0
            </div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="heart"
            data-price="2500"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
          </button>
        </div>

        <!-- Shield -->
        <div class="shop-item rounded-2xl p-6 backdrop-blur-sm">
          <div class="text-center mb-4">
            <div class="item-icon mb-2">üõ°Ô∏è</div>
            <h3 class="text-2xl font-bold text-white">‡πÇ‡∏•‡πà‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</h3>
            <p class="text-white/60 text-sm mt-1">‡∏Å‡∏±‡∏ô‡∏î‡∏≤‡πÄ‡∏°‡∏à‡πÑ‡∏î‡πâ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">3,000</span>
            </div>
            <div
              class="inventory-badge px-3 py-1 rounded-full text-sm"
              id="owned-shield"
            >
              ‡∏°‡∏µ: 0
            </div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="shield"
            data-price="3000"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
          </button>
        </div>

        <!-- Cookie Boost -->
        <div class="shop-item rounded-2xl p-6 backdrop-blur-sm">
          <div class="text-center mb-4">
            <div class="item-icon mb-2">üç™‚ú®</div>
            <h3 class="text-2xl font-bold text-white">Cookie Boost</h3>
            <p class="text-white/60 text-sm mt-1">
              ‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ x2 ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
            </p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">3,500</span>
            </div>
            <div
              class="inventory-badge px-3 py-1 rounded-full text-sm"
              id="owned-cookie_boost"
            >
              ‡∏°‡∏µ: 0
            </div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="cookie_boost"
            data-price="3500"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢
          </button>
        </div>

        <!-- Bundle: Heart x3 -->
        <div
          class="shop-item rounded-2xl p-6 backdrop-blur-sm border-amber-500/30"
        >
          <div
            class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-amber-500 px-3 py-1 rounded-full text-xs font-bold"
          >
            üî• ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤!
          </div>
          <div class="text-center mb-4">
            <div class="item-icon mb-2">‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</div>
            <h3 class="text-2xl font-bold text-white">‡πÅ‡∏û‡πá‡∏Ñ‡∏´‡∏±‡∏ß‡πÉ‡∏à x3</h3>
            <p class="text-white/60 text-sm mt-1">‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î 1,500 ‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ!</p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">6,000</span>
            </div>
            <div class="text-white/50 text-sm line-through">7,500</div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="heart"
            data-price="6000"
            data-quantity="3"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏û‡πá‡∏Ñ
          </button>
        </div>

        <!-- Bundle: Shield x3 -->
        <div
          class="shop-item rounded-2xl p-6 backdrop-blur-sm border-blue-500/30"
        >
          <div
            class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-blue-500 px-3 py-1 rounded-full text-xs font-bold"
          >
            üõ°Ô∏è ‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤!
          </div>
          <div class="text-center mb-4">
            <div class="item-icon mb-2">üõ°Ô∏èüõ°Ô∏èüõ°Ô∏è</div>
            <h3 class="text-2xl font-bold text-white">‡πÅ‡∏û‡πá‡∏Ñ‡πÇ‡∏•‡πà x3</h3>
            <p class="text-white/60 text-sm mt-1">‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î 2,000 ‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ!</p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">7,000</span>
            </div>
            <div class="text-white/50 text-sm line-through">9,000</div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="shield"
            data-price="7000"
            data-quantity="3"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏û‡πá‡∏Ñ
          </button>
        </div>

        <!-- Starter Pack -->
        <div
          class="shop-item rounded-2xl p-6 backdrop-blur-sm border-purple-500/30"
        >
          <div
            class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-purple-500 px-3 py-1 rounded-full text-xs font-bold"
          >
            ‚≠ê ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥!
          </div>
          <div class="text-center mb-4">
            <div class="item-icon mb-2">üéÅ</div>
            <h3 class="text-2xl font-bold text-white">Starter Pack</h3>
            <p class="text-white/60 text-sm mt-1">‡∏´‡∏±‡∏ß‡πÉ‡∏à x2 + ‡πÇ‡∏•‡πà x2 + ‡∏î‡∏≤‡∏ß x1</p>
          </div>
          <div class="flex justify-between items-center mb-4">
            <div
              class="price-tag px-4 py-2 rounded-full flex items-center gap-2"
            >
              <span class="text-lg">üç™</span>
              <span class="font-bold text-lg">10,000</span>
            </div>
            <div class="text-white/50 text-sm line-through">14,500</div>
          </div>
          <button
            class="buy-btn w-full py-3 rounded-xl font-bold text-lg"
            data-item="starter_pack"
            data-price="10000"
          >
            ‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏û‡πá‡∏Ñ
          </button>
        </div>
      </div>

      <!-- Compare Section -->
      <div class="bg-white/5 rounded-2xl p-6 mb-8">
        <h2 class="text-xl font-bold mb-4 text-center">
          üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ vs ‡∏™‡∏∏‡πà‡∏°‡∏ß‡∏á‡∏•‡πâ‡∏≠
        </h2>
        <div class="overflow-x-auto">
          <table class="w-full text-center">
            <thead>
              <tr class="border-b border-white/20">
                <th class="py-3 px-4">‡πÑ‡∏≠‡πÄ‡∏ó‡∏°</th>
                <th class="py-3 px-4 text-green-400">‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ (‡∏Å‡∏≤‡∏£‡∏±‡∏ô‡∏ï‡∏µ)</th>
                <th class="py-3 px-4 text-amber-400">‡∏™‡∏∏‡πà‡∏°‡∏ß‡∏á‡∏•‡πâ‡∏≠ (‡∏•‡∏∏‡πâ‡∏ô)</th>
              </tr>
            </thead>
            <tbody class="text-white/80">
              <tr class="border-b border-white/10">
                <td class="py-3 px-4">‚ù§Ô∏è ‡∏´‡∏±‡∏ß‡πÉ‡∏à +1</td>
                <td class="py-3 px-4 text-green-400">2,500 üç™</td>
                <td class="py-3 px-4 text-amber-400">1,000 üç™ (1/8 ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™)</td>
              </tr>
              <tr class="border-b border-white/10">
                <td class="py-3 px-4">üõ°Ô∏è ‡πÇ‡∏•‡πà</td>
                <td class="py-3 px-4 text-green-400">3,000 üç™</td>
                <td class="py-3 px-4 text-amber-400">1,000 üç™ (1/8 ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™)</td>
              </tr>
              <tr>
                <td class="py-3 px-4">üç™‚ú® Cookie Boost</td>
                <td class="py-3 px-4 text-green-400">3,500 üç™</td>
                <td class="py-3 px-4 text-amber-400">1,000 üç™ (1/8 ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™)</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="flex flex-wrap justify-center gap-4">
        <a
          href="reward.html"
          class="px-6 py-3 bg-purple-600 hover:bg-purple-700 rounded-full font-bold transition-all hover:scale-105 flex items-center gap-2"
        >
          <span>üé∞</span>
          <span>‡∏™‡∏∏‡πà‡∏°‡∏ß‡∏á‡∏•‡πâ‡∏≠ (1,000 üç™)</span>
        </a>
        <a
          href="index.html"
          class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-full font-bold transition-all hover:scale-105 flex items-center gap-2"
        >
          <span>üéÆ</span>
          <span>‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°</span>
        </a>
      </div>
    </main>

    <!-- Purchase Popup -->
    <div
      id="purchase-popup"
      class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden"
    >
      <div
        class="purchase-popup absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-green-900 to-emerald-900 rounded-3xl p-8 text-center max-w-sm w-full mx-4"
      >
        <div id="popup-icon" class="text-7xl mb-4"></div>
        <h3 id="popup-title" class="text-3xl font-bold text-game-gold mb-2">
          ‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
        </h3>
        <p id="popup-desc" class="text-white/80 mb-6"></p>
        <button
          id="popup-close"
          class="bg-amber-500 hover:bg-amber-600 px-8 py-3 rounded-full font-bold transition-colors"
        >
          ‡∏ï‡∏Å‡∏•‡∏á
        </button>
      </div>
    </div>

    <!-- Error Popup -->
    <div
      id="error-popup"
      class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden"
    >
      <div
        class="purchase-popup absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gradient-to-br from-red-900 to-rose-900 rounded-3xl p-8 text-center max-w-sm w-full mx-4"
      >
        <div class="text-7xl mb-4">üò¢</div>
        <h3 class="text-3xl font-bold text-red-400 mb-2">‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏û‡∏≠!</h3>
        <p id="error-desc" class="text-white/80 mb-6"></p>
        <div class="flex flex-col gap-3">
          <a
            href="index.html"
            class="bg-green-500 hover:bg-green-600 px-8 py-3 rounded-full font-bold transition-colors"
          >
            üéÆ ‡πÑ‡∏õ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ
          </a>
          <button
            id="error-close"
            class="bg-gray-600 hover:bg-gray-700 px-8 py-3 rounded-full font-bold transition-colors"
          >
            ‡∏õ‡∏¥‡∏î
          </button>
        </div>
      </div>
    </div>

    <script>
      class ShopManager {
        constructor() {
          this.cookies = this.LoadCookies();
          this.inventory = this.LoadInventory();

          this.InitEventListeners();
          this.UpdateUI();
        }

        LoadCookies() {
          const saved = localStorage.getItem('game_total_cookies');
          return saved ? parseInt(saved, 10) : 0;
        }

        SaveCookies() {
          localStorage.setItem('game_total_cookies', this.cookies.toString());
        }

        LoadInventory() {
          const saved = localStorage.getItem('game_inventory');
          return saved ? JSON.parse(saved) : {};
        }

        SaveInventory() {
          localStorage.setItem(
            'game_inventory',
            JSON.stringify(this.inventory)
          );
        }

        InitEventListeners() {
          document.querySelectorAll('.buy-btn').forEach(btn => {
            btn.addEventListener('click', () => {
              const item = btn.dataset.item;
              const price = parseInt(btn.dataset.price, 10);
              const quantity = parseInt(btn.dataset.quantity || '1', 10);

              this.PurchaseItem(item, price, quantity);
            });
          });

          document
            .getElementById('popup-close')
            .addEventListener('click', () => {
              document.getElementById('purchase-popup').classList.add('hidden');
            });

          document
            .getElementById('error-close')
            .addEventListener('click', () => {
              document.getElementById('error-popup').classList.add('hidden');
            });
        }

        PurchaseItem(item, price, quantity = 1) {
          if (this.cookies < price) {
            this.ShowErrorPopup(price);
            return;
          }

          this.cookies -= price;
          this.SaveCookies();

          if (item === 'starter_pack') {
            this.AddToInventory('heart', 2);
            this.AddToInventory('shield', 2);
            this.AddToInventory('cookie_boost', 1);
            this.ShowPurchasePopup(
              'üéÅ',
              'Starter Pack',
              '‡∏´‡∏±‡∏ß‡πÉ‡∏à x2 + ‡πÇ‡∏•‡πà x2 + Cookie Boost x1'
            );
          } else {
            this.AddToInventory(item, quantity);
            const item_names = {
              heart: '‚ù§Ô∏è ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏û‡∏¥‡πÄ‡∏®‡∏©',
              shield: 'üõ°Ô∏è ‡πÇ‡∏•‡πà‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô',
              cookie_boost: 'üç™‚ú® Cookie Boost'
            };
            const item_icons = {
              heart: '‚ù§Ô∏è',
              shield: 'üõ°Ô∏è',
              cookie_boost: 'üç™‚ú®'
            };
            this.ShowPurchasePopup(
              item_icons[item],
              item_names[item],
              `x${quantity}`
            );
          }

          this.UpdateUI();
        }

        AddToInventory(item, quantity) {
          if (!this.inventory[item]) {
            this.inventory[item] = 0;
          }
          this.inventory[item] += quantity;
          this.SaveInventory();
        }

        ShowPurchasePopup(icon, title, desc) {
          document.getElementById('popup-icon').textContent = icon;
          document.getElementById('popup-title').textContent = '‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!';
          document.getElementById(
            'popup-desc'
          ).textContent = `${title} ${desc}`;
          document.getElementById('purchase-popup').classList.remove('hidden');
        }

        ShowErrorPopup(price) {
          const needed = price - this.cookies;
          document.getElementById(
            'error-desc'
          ).textContent = `‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏µ‡∏Å ${needed.toLocaleString()} ‡∏Ñ‡∏∏‡∏Å‡∏Å‡∏µ‡πâ`;
          document.getElementById('error-popup').classList.remove('hidden');
        }

        UpdateUI() {
          document.getElementById('cookie-balance').textContent =
            this.cookies.toLocaleString();

          document.getElementById('owned-heart').textContent = `‡∏°‡∏µ: ${
            this.inventory.heart || 0
          }`;
          document.getElementById('owned-shield').textContent = `‡∏°‡∏µ: ${
            this.inventory.shield || 0
          }`;
          document.getElementById('owned-cookie_boost').textContent = `‡∏°‡∏µ: ${
            this.inventory.cookie_boost || 0
          }`;

          document.querySelectorAll('.buy-btn').forEach(btn => {
            const price = parseInt(btn.dataset.price, 10);
            btn.disabled = this.cookies < price;
          });
        }
      }

      document.addEventListener('DOMContentLoaded', () => {
        new ShopManager();
      });
    </script>
  </body>
</html>
